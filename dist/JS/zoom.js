"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,s){return e&&_defineProperties(t.prototype,e),s&&_defineProperties(t,s),t}var SetZoom=function(){function s(t,e){_classCallCheck(this,s),this.ele=t,this.show=t.querySelector(".show"),this.mask=t.querySelector(".mask"),this.glass=t.querySelector(".glass"),this.glassimg=t.querySelector(".glass>img"),this.boxLeft=this.ele.offsetLeft,this.boxTop=this.ele.offsetTop,this.showBorderLeft=this.show.clientLeft,this.showBorderTop=this.show.clientTop,this.showWidth=this.show.clientWidth,this.showHeight=this.show.clientHeight,this.maskWidth=parseInt(myGetStyle(this.mask,"width")),this.maskHeight=parseInt(myGetStyle(this.mask,"height")),this.glassWidth=parseInt(myGetStyle(this.glass,"width")),this.glassHeight=parseInt(myGetStyle(this.glass,"height")),this.BGIWidth=parseInt(myGetStyle(this.glassimg,"width")),this.BGIHeight=parseInt(myGetStyle(this.glassimg,"height"))}return _createClass(s,[{key:"init",value:function(){this.inOut(),this.move()}},{key:"inOut",value:function(){var t=this;this.show.addEventListener("mouseenter",function(){t.show.style.border="1px solid red",t.mask.style.display="block",t.glass.style.display="block",t.glass.style.border="1px solid red"}),this.show.addEventListener("mouseleave",function(){t.show.style.border="0",t.glass.style.border="0",t.mask.style.display="none",t.glass.style.display="none"})}},{key:"move",value:function(){var o=this;this.show.addEventListener("mousemove",function(t){var e=t.clientX-o.boxLeft-o.showBorderLeft-o.maskWidth/2,s=t.clientY-o.boxTop-o.showBorderTop-o.maskHeight/2;e<0&&(e=0),s<0&&(s=0),e>o.showWidth-o.maskWidth&&(e=o.showWidth-o.maskWidth),s>o.showHeight-o.maskHeight&&(s=o.showHeight-o.maskHeight),o.mask.style.top=s+"px",o.mask.style.left=e+"px";var i=o.BGIWidth*e/o.showWidth,h=o.BGIHeight*s/o.showHeight;o.glassimg.style.left="-".concat(i,"px"),o.glassimg.style.top="-".concat(h,"px")})}}]),s}();function myGetStyle(t,e){return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle[e]}